:root{
  --bg:#111;
  --card:#1c1c1c;
  --card-2:#222;
  --text:#eee;
  --muted:#bdbdbd;
  --red:#e53935;
  --red-700:#c62828;
  --green:#43a047;
  --chip:#2a2a2a;
  --chip-border:#333;
  --input:#1a1a1a;
  --shadow:0 10px 30px rgba(0,0,0,.45);

  --space: 1rem;       /* Basisabstand */
  --space-sm: .6rem;   /* klein */
  --space-xs: .35rem;  /* sehr klein */
  --space-lg: 1.5rem;  /* groß */
}

/* Grundstyles */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; 
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  color:var(--text); 
  background:linear-gradient(180deg,#0c0c0c 0%, #131313 100%);
  font-size:16px;
}

/* Header */
.app-header{
  position:sticky; top:0; z-index:20;
  display:flex; justify-content:space-between; align-items:center;
  padding:var(--space); background:#151515; border-bottom:1px solid #222; box-shadow:var(--shadow);
}
.app-header h1{margin:0; font-size:1.4rem; letter-spacing:.5px}
.mode-buttons{display:flex; gap:var(--space-sm)}

/* Layout */
.container{max-width:1100px; margin:var(--space-lg) auto; padding:0 var(--space)}
.card{
  background:var(--card);
  border:1px solid #262626;
  border-radius:14px; padding:var(--space); box-shadow:var(--shadow);
  width:100%;
  max-width:600px;
  margin:0 auto var(--space-lg) auto; /* Einheitlicher Abstand zwischen Cards */
}
.card.sub{background:var(--card-2)}
.card.highlight{background:var(--card-2);} /* z.B. für Abgeschlossene Trainings */

/* Grid & Rows */
.grid{
  display:grid; 
  grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); 
  gap:var(--space); 
  margin-top:var(--space);
}
.row{
  display:flex; 
  flex-wrap:wrap;
  align-items:center;
  gap:var(--space-sm);
}
.row.gap{gap:var(--space-sm)}
.row.wrap{flex-wrap:wrap}
.row.end{justify-content:flex-end}

/* Labels */
.label{color:var(--muted); font-size:.9rem}

/* Headings */
h2{margin:var(--space-xs) 0 var(--space-sm) 0; color:var(--text); border-left:4px solid var(--red); padding-left:.6rem}
h3{margin:var(--space-xs) 0 var(--space-sm) 0; color:#ff6b6b;}

/* Buttons */
.btn{
  background:var(--red); border:1px solid var(--red-700);
  color:#fff; padding:.55rem .9rem; border-radius:10px; font-weight:600;
  cursor:pointer; transition:transform .12s ease, background .2s ease, box-shadow .2s ease;
}
.btn:hover{background:var(--red-700); transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn.ghost{
  background:transparent; color:var(--red); border:1px solid var(--red-700);
}
.btn.outline{
  background:transparent; color:#fff; border:1px solid #444;
}
.btn.small{padding:.3rem .5rem; border-radius:8px; font-size:.85rem; width:auto;}
.btn.chip{
  background:var(--chip); border:1px solid var(--chip-border); color:#ddd;
  padding:.35rem .6rem; border-radius:999px; font-weight:600;
}
.btn.success{background:var(--green); border-color:#2e7d32;}
.btn.danger{background:var(--red); border-color:var(--red-700)}

/* Listen */
.list{list-style:none; margin:0; padding:0}
.list > li{
  background:#191919; border:1px solid #262626; border-radius:12px;
  padding:var(--space-sm); margin:var(--space-sm) 0; display:flex; flex-direction:column; gap:var(--space-sm);
}
.item-head{
  display:flex; gap:var(--space-sm); align-items:center; justify-content:space-between;
}
.item-title{font-weight:700; letter-spacing:.2px}
.item-sub{color:var(--muted); font-size:.9rem}

/* Input/select */
input[type="text"], input[type="number"], select{
  background:var(--input); border:1px solid #2b2b2b; color:var(--text);
  padding:.5rem .6rem; border-radius:10px; outline:none; min-width:0; width:100%; box-sizing:border-box;
}
input:focus, select:focus{border-color:var(--red);}

/* Exercise pool line */
.pool-line{display:flex; align-items:center; gap:var(--space-sm); justify-content:space-between}
.pool-left{display:flex; align-items:center; gap:var(--space-sm)}

/* Plan editor row */
.plan-row{display:grid; grid-template-columns:1.2fr repeat(5, auto); gap:var(--space-sm); align-items:center}
.plan-row .sep{height:1px; background:#2a2a2a; grid-column:1/-1}

/* Set chips */
.sets-wrap{display:flex; flex-wrap:wrap; gap:var(--space-xs)}
.set-chip{
  display:flex; align-items:center; gap:var(--space-xs);
  background:var(--chip); border:1px solid var(--chip-border);
  padding:.35rem .5rem; border-radius:12px; transition:transform .15s ease, background .2s ease, border-color .2s ease;
}
.set-chip.done{background:#193a21; border-color:#2e7d32}
.set-chip .dot{
  width:.6rem; height:.6rem; border-radius:50%;
  background:#666; transition:background .2s ease, transform .15s ease;
}
.set-chip.done .dot{background:#4caf50; transform:scale(1.2)}
.set-chip .meta{display:flex; align-items:center; gap:.35rem; color:#ddd}
.set-chip input[type="number"]{width:70px}

/* Rest badge */
.rest-badge{
  display:inline-flex; align-items:center; gap:.35rem;
  background:#251818; color:#ffb3b3; border:1px solid #3a2222;
  padding:.25rem .5rem; border-radius:999px; font-weight:700; font-size:.85rem;
}

/* Train line */
.train-line{display:flex; flex-direction:column; gap:var(--space-sm)}
.train-head{display:flex; align-items:center; justify-content:space-between; gap:var(--space-sm); flex-wrap:wrap;}
.train-controls{display:flex; align-items:center; gap:var(--space-xs); flex-wrap:wrap}

/* Timers */
.train-header{
  display:flex; justify-content:space-between; align-items:center; gap:var(--space); margin-bottom:var(--space-sm);
}
.timer-pill{
  background:#1b1b1b; border:1px solid #2a2a2a; padding:.4rem .7rem; border-radius:999px;
}

/* Footer */
.footer{padding:var(--space-lg) var(--space); text-align:center; color:#888}

/* Responsive */
@media (max-width:900px){
  .grid{grid-template-columns:1fr}
  .plan-row{grid-template-columns:repeat(5, 1fr); gap:var(--space-xs)}
}

@media (max-width:600px){
  .grid{grid-template-columns:1fr;gap: var(--space-sm);}
  .row{flex-direction:column; align-items:stretch; gap:var(--space-sm)}
  .card{margin:0 0 var(--space-sm) 0; padding:var(--space-sm)}
  input[type="text"], input[type="number"], select, .btn{width:100%}
  .plan-row{grid-template-columns:repeat(5, 1fr); gap:var(--space-xs)}
  .train-head, .train-controls{flex-direction:column; align-items:stretch; gap:var(--space-xs)}
  .sets-wrap{flex-direction:column; gap:var(--space-xs)}
  .list > li{margin:var(--space-xs) 0; padding:var(--space-sm)}
}

.abgeschlossen {
  background: var(--card);
  border: 1px solid #262626;
  border-radius: 14px;
  padding: var(--space);
  box-shadow: var(--shadow);
  margin: 0 auto var(--space-lg) auto;
}

.btn.locked {
  opacity: 0.5;
}

/* Timer Overlay */
#pauseTimer {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  height: 30px;
  background: #ddd;
  border-radius: 15px;
  overflow: hidden;
  display: none; /* standardmäßig unsichtbar */
  z-index: 1000;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

#progress {
  height: 100%;
  width: 0%;
  background-color: #dc3545; /* rot */
  transition: width 0.1s linear;
}

#sort-modal {
  display: none;
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.7);
  z-index: 1000;
  justify-content: center;
  align-items: center;
  display: flex;
}

.sort-modal-content {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  width: 300px;
  max-height: 80%;
  overflow-y: auto;
}

#sort-list li {
  padding: 8px;
  margin-bottom: 4px;
  border: 1px solid #ccc;
  cursor: move;
  background: #f9f9f9;
}

.sort-buttons {
  text-align: right;
  margin-top: 10px;
}
